


    <title>mariadb-database-summary &mdash; MariaDB Tools Documentation</title>
    
  <head>
    
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="MariaDB Tools Documentation" href="index.html" />
    <link rel="next" title="mariadb-index-checker" href="mariadb-index-checker.html" />
    <link rel="prev" title="mariadb-backup-manager" href="mariadb-backup-manager.html" /> 
  </head>
  <body>
    <div class="container">  

    <div class="document row">
      <div class="documentwrapper col-md-9 col-md-push-3">
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mariadb-index-checker.html" title="mariadb-index-checker"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="mariadb-backup-manager.html" title="mariadb-backup-manager"
             accesskey="P">previous</a></li>
        <li><a href="index.html">MariaDB Tools</a></li> 
      </ul>
    </div>
        <div class="bodywrapper">
          <div class="body">
            
  <section id="mariadb-database-summary">
<h1><strong class="program">mariadb-database-summary</strong><a class="headerlink" href="#mariadb-database-summary" title="Permalink to this headline">¶</a></h1>
<section id="name">
<h2>NAME<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">mariadb-database-summary</strong> - Summarize MariaDB information nicely.</p>
</section>
<section id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mariadb</span><span class="o">-</span><span class="n">database</span><span class="o">-</span><span class="n">summary</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>
</pre></div>
</div>
<p><strong class="program">mariadb-database-summary</strong> conveniently summarizes the status and configuration of a
MariaDB database server so that you can learn about it at a glance.  It is not
a tuning tool or diagnosis tool.  It produces a report that is easy to diff
and can be pasted into emails without losing the formatting.  It should work
well on any modern UNIX systems.</p>
</section>
</section>
<section id="risks">
<h2>RISKS<a class="headerlink" href="#risks" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">mariadb-database-summary</strong> is mature, proven in the real world, and well tested,
but all database tools can pose a risk to the system and the database
server.  Before using this tool, please:</p>
<ul class="simple">
<li><p>Read the tool’s documentation</p></li>
<li><p>Review the tool’s known “BUGS”</p></li>
<li><p>Test the tool on a non-production server</p></li>
<li><p>Backup your production server and verify the backups</p></li>
</ul>
</section>
<section id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">mariadb-database-summary</strong> works by connecting to a MariaDB database server and querying
it for status and configuration information.  It saves these bits of data
into files in a temporary directory, and then formats them neatly with awk
and other scripting languages.</p>
<p>To use, simply execute it.  Optionally add a double dash and then the same
command-line options you would use to connect to MariaDB, such as the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mariadb-database-summary --user<span class="o">=</span>root
</pre></div>
</div>
<p>The tool interacts minimally with the server upon which it runs.  It assumes
that you’ll run it on the same server you’re inspecting, and therefore it
assumes that it will be able to find the my.cnf configuration file, for example.
However, it should degrade gracefully if this is not the case.  Note, however,
that its output does not indicate which information comes from the MariaDB
database and which comes from the host operating system, so it is possible for
confusing output to be generated if you run the tool on one server and connect
to a MariaDB database server running on another server.</p>
</section>
<section id="output">
<h2>OUTPUT<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p>Many of the outputs from this tool are deliberately rounded to show their
magnitude but not the exact detail.  This is called fuzzy-rounding. The idea
is that it does not matter whether a server is running 918 queries per second
or 921 queries per second; such a small variation is insignificant, and only
makes the output hard to compare to other servers.  Fuzzy-rounding rounds in
larger increments as the input grows.  It begins by rounding to the nearest 5,
then the nearest 10, nearest 25, and then repeats by a factor of 10 larger
(50, 100, 250), and so on, as the input grows.</p>
<p>The following is a sample of the report that the tool produces:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># MariaDB Server Summary Report ##############################</span>
              System <span class="nb">time</span> <span class="p">|</span> <span class="m">2012</span>-03-30 <span class="m">18</span>:46:05 UTC
                            <span class="o">(</span><span class="nb">local</span> TZ: EDT -0400<span class="o">)</span>
<span class="c1"># Instances ##################################################</span>
  Port  Data Directory             Nice OOM <span class="nv">Socket</span>
  <span class="o">=====</span> <span class="o">==========================</span> <span class="o">====</span> <span class="o">===</span> <span class="o">======</span>
  <span class="m">12345</span> /tmp/12345/data            <span class="m">0</span>    <span class="m">0</span>   /tmp/12345.sock
  <span class="m">12346</span> /tmp/12346/data            <span class="m">0</span>    <span class="m">0</span>   /tmp/12346.sock
  <span class="m">12347</span> /tmp/12347/data            <span class="m">0</span>    <span class="m">0</span>   /tmp/12347.sock
</pre></div>
</div>
<p>The first two sections show which server the report was generated on and which
MariaDB instances are running on the server. This is detected from the output of
<code class="docutils literal notranslate"><span class="pre">ps</span></code> and does not always detect all instances and parameters, but often works
well.  From this point forward, the report will be focused on a single MariaDB
instance, although several instances may appear in the above paragraph.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Report On Port 12345 #######################################</span>
                     User <span class="p">|</span> msandbox@%
                     Time <span class="p">|</span> <span class="m">2012</span>-03-30 <span class="m">14</span>:46:05 <span class="o">(</span>EDT<span class="o">)</span>
                 Hostname <span class="p">|</span> localhost.localdomain
                  Version <span class="p">|</span> <span class="m">10</span>.4.7-MariaDB-1:10.4.7+maria~bionic
                 Built On <span class="p">|</span> linux2.6 i686
                  Started <span class="p">|</span> <span class="m">2012</span>-03-28 <span class="m">23</span>:33 <span class="o">(</span>up <span class="m">1</span>+15:12:09<span class="o">)</span>
                Databases <span class="p">|</span> <span class="m">4</span>
                  Datadir <span class="p">|</span> /tmp/12345/data/
                Processes <span class="p">|</span> <span class="m">2</span> connected, <span class="m">2</span> running
              Replication <span class="p">|</span> Is not a slave, has <span class="m">1</span> slaves connected
                  Pidfile <span class="p">|</span> /tmp/12345/data/12345.pid <span class="o">(</span>exists<span class="o">)</span>
</pre></div>
</div>
<p>This section is a quick summary of the MariaDB instance: version, uptime, and
other very basic parameters. The Time output is generated from the MariaDB server,
unlike the system date and time printed earlier, so you can see whether the
database and operating system times match.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Processlist ################################################</span>

  Command                        COUNT<span class="o">(</span>*<span class="o">)</span> Working SUM<span class="o">(</span>Time<span class="o">)</span> MAX<span class="o">(</span>Time<span class="o">)</span>
  ------------------------------ -------- ------- --------- ---------
  Binlog Dump                           <span class="m">1</span>       <span class="m">1</span>    <span class="m">150000</span>    <span class="m">150000</span>
  Query                                 <span class="m">1</span>       <span class="m">1</span>         <span class="m">0</span>         <span class="m">0</span>

  User                           COUNT<span class="o">(</span>*<span class="o">)</span> Working SUM<span class="o">(</span>Time<span class="o">)</span> MAX<span class="o">(</span>Time<span class="o">)</span>
  ------------------------------ -------- ------- --------- ---------
  msandbox                              <span class="m">2</span>       <span class="m">2</span>    <span class="m">150000</span>    <span class="m">150000</span>

  Host                           COUNT<span class="o">(</span>*<span class="o">)</span> Working SUM<span class="o">(</span>Time<span class="o">)</span> MAX<span class="o">(</span>Time<span class="o">)</span>
  ------------------------------ -------- ------- --------- ---------
  localhost                             <span class="m">2</span>       <span class="m">2</span>    <span class="m">150000</span>    <span class="m">150000</span>

  db                             COUNT<span class="o">(</span>*<span class="o">)</span> Working SUM<span class="o">(</span>Time<span class="o">)</span> MAX<span class="o">(</span>Time<span class="o">)</span>
  ------------------------------ -------- ------- --------- ---------
  NULL                                  <span class="m">2</span>       <span class="m">2</span>    <span class="m">150000</span>    <span class="m">150000</span>

  State                          COUNT<span class="o">(</span>*<span class="o">)</span> Working SUM<span class="o">(</span>Time<span class="o">)</span> MAX<span class="o">(</span>Time<span class="o">)</span>
  ------------------------------ -------- ------- --------- ---------
  Master has sent all binlog to         <span class="m">1</span>       <span class="m">1</span>    <span class="m">150000</span>    <span class="m">150000</span>
  NULL                                  <span class="m">1</span>       <span class="m">1</span>         <span class="m">0</span>         <span class="m">0</span>
</pre></div>
</div>
<p>This section is a summary of the output from SHOW PROCESSLIST. Each sub-section
is aggregated by a different item, which is shown as the first column heading.
When summarized by Command, every row in SHOW PROCESSLIST is included, but
otherwise, rows whose Command is Sleep are excluded from the SUM and MAX
columns, so they do not skew the numbers too much. In the example shown, the
server is idle except for this tool itself, and one connected replica, which
is executing Binlog Dump.</p>
<p>The columns are the number of rows included, the number that are not in Sleep
status, the sum of the Time column, and the maximum Time column. The numbers are
fuzzy-rounded.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Status Counters (Wait 10 Seconds) ##########################</span>
Variable                            Per day  Per second     <span class="m">10</span> secs
Binlog_cache_disk_use                     <span class="m">4</span>
Binlog_cache_use                         <span class="m">80</span>
Bytes_received                     <span class="m">15000000</span>         <span class="m">175</span>         <span class="m">200</span>
Bytes_sent                         <span class="m">15000000</span>         <span class="m">175</span>        <span class="m">2000</span>
Com_admin_commands                        <span class="m">1</span>
...................<span class="o">(</span>many lines omitted<span class="o">)</span>............................
Threads_created                          <span class="m">40</span>                       <span class="m">1</span>
Uptime                                <span class="m">90000</span>           <span class="m">1</span>           <span class="m">1</span>
</pre></div>
</div>
<p>This section shows selected counters from two snapshots of SHOW GLOBAL STATUS,
gathered approximately 10 seconds apart and fuzzy-rounded. It includes only
items that are incrementing counters; it does not include absolute numbers such
as the Threads_running status variable, which represents a current value, rather
than an accumulated number over time.</p>
<p>The first column is the variable name, and the second column is the counter from
the first snapshot divided by 86400 (the number of seconds in a day), so you can
see the magnitude of the counter’s change per day. 86400 fuzzy-rounds to 90000,
so the Uptime counter should always be about 90000.</p>
<p>The third column is the value from the first snapshot, divided by Uptime and
then fuzzy-rounded, so it represents approximately how quickly the counter is
growing per-second over the uptime of the server.</p>
<p>The third column is the incremental difference from the first and second
snapshot, divided by the difference in uptime and then fuzzy-rounded. Therefore,
it shows how quickly the counter is growing per second at the time the report
was generated.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Table cache ################################################</span>
                     Size <span class="p">|</span> <span class="m">400</span>
                    Usage <span class="p">|</span> <span class="m">15</span>%
</pre></div>
</div>
<p>This section shows the size of the table cache, followed by the percentage of
the table cache in use. The usage is fuzzy-rounded.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Key MariaDB Server features ################################</span>
      Table <span class="p">&amp;</span> Index Stats <span class="p">|</span> Not Supported
     Multiple I/O Threads <span class="p">|</span> Enabled
     Corruption Resilient <span class="p">|</span> Not Supported
      Durable Replication <span class="p">|</span> Not Supported
     Import InnoDB Tables <span class="p">|</span> Not Supported
     Fast Server Restarts <span class="p">|</span> Not Supported
         Enhanced Logging <span class="p">|</span> Not Supported
     Replica Perf Logging <span class="p">|</span> Not Supported
      Response Time Hist. <span class="p">|</span> Not Supported
          Smooth Flushing <span class="p">|</span> Not Supported
      HandlerSocket NoSQL <span class="p">|</span> Not Supported
           Fast Hash UDFs <span class="p">|</span> Unknown
</pre></div>
</div>
<p>This section shows features that are available in MariaDB Server and whether
they are enabled or not.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plugins ####################################################</span>
       InnoDB compression <span class="p">|</span> ACTIVE
</pre></div>
</div>
<p>This feature shows specific plugins and whether they are enabled.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Query cache ################################################</span>
         query_cache_type <span class="p">|</span> ON
                     Size <span class="p">|</span> <span class="m">0</span>.0
                    Usage <span class="p">|</span> <span class="m">0</span>%
         HitToInsertRatio <span class="p">|</span> <span class="m">0</span>%
</pre></div>
</div>
<p>This section shows whether the query cache is enabled and its size, followed by
the percentage of the cache in use and the hit-to-insert ratio. The latter two
are fuzzy-rounded.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Schema #####################################################</span>

  Database           Tables Views SPs Trigs Funcs   FKs Partn
  mysql                  <span class="m">24</span>
  performance_schema     <span class="m">17</span>
  sakila                 <span class="m">16</span>     <span class="m">7</span>   <span class="m">3</span>     <span class="m">6</span>     <span class="m">3</span>    <span class="m">22</span>

  Database           MyISAM CSV PERFORMANCE_SCHEMA InnoDB
  mysql                  <span class="m">22</span>   <span class="m">2</span>
  performance_schema                            <span class="m">17</span>
  sakila                  <span class="m">8</span>                            <span class="m">15</span>

  Database           BTREE FULLTEXT
  mysql                 <span class="m">31</span>
  performance_schema
  sakila                <span class="m">63</span>        <span class="m">1</span>

                       c   t   s   e   l   d   i   t   m   v   s
                       h   i   e   n   o   a   n   i   e   a   m
                       a   m   t   u   n   t   t   n   d   r   a
                       r   e       m   g   e       y   i   c   l
                           s           b   t       i   u   h   l
                           t           l   i       n   m   a   i
                           a           o   m       t   t   r   n
                           m           b   e           e       t
                           p                           x
                                                       t
  <span class="nv">Database</span>           <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span> <span class="o">===</span>
  mysql               <span class="m">61</span>  <span class="m">10</span>   <span class="m">6</span>  <span class="m">78</span>   <span class="m">5</span>   <span class="m">4</span>  <span class="m">26</span>   <span class="m">3</span>   <span class="m">4</span>   <span class="m">5</span>   <span class="m">3</span>
  performance_schema               <span class="m">5</span>          <span class="m">16</span>          <span class="m">33</span>
  sakila               <span class="m">1</span>  <span class="m">15</span>   <span class="m">1</span>   <span class="m">3</span>       <span class="m">4</span>   <span class="m">3</span>  <span class="m">19</span>      <span class="m">42</span>  <span class="m">26</span>
</pre></div>
</div>
<p>If you specify <a class="reference internal" href="#cmdoption-mariadb-database-summary-databases"><code class="xref std std-option docutils literal notranslate"><span class="pre">--databases</span></code></a> or <a class="reference internal" href="#cmdoption-mariadb-database-summary-all-databases"><code class="xref std std-option docutils literal notranslate"><span class="pre">--all-databases</span></code></a>, the tool will print
the above section. This summarizes the number and type of objects in the
databases. It is generated by running <code class="docutils literal notranslate"><span class="pre">mariadb-dump</span> <span class="pre">--no-data</span></code>, not by querying
the INFORMATION_SCHEMA, which can freeze a busy server.</p>
<p>The first sub-report in the section is the count of objects by type in each
database: tables, views, and so on. The second one shows how many tables use
various storage engines in each database. The third sub-report shows the number
of each type of indexes in each database.</p>
<p>The last section shows the number of columns of various data types in each
database. For compact display, the column headers are formatted vertically, so
you need to read downwards from the top. In this example, the first column is
<code class="docutils literal notranslate"><span class="pre">char</span></code> and the second column is <code class="docutils literal notranslate"><span class="pre">timestamp</span></code>. This example is truncated so it
does not wrap on a terminal.</p>
<p>All of the numbers in this portion of the output are exact, not fuzzy-rounded.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Noteworthy Technologies ####################################</span>
       Full Text Indexing <span class="p">|</span> Yes
         Geospatial Types <span class="p">|</span> No
             Foreign Keys <span class="p">|</span> Yes
             Partitioning <span class="p">|</span> No
       InnoDB Compression <span class="p">|</span> Yes
                      SSL <span class="p">|</span> No
     Explicit LOCK TABLES <span class="p">|</span> No
           Delayed Insert <span class="p">|</span> No
          XA Transactions <span class="p">|</span> No
      ColumnStore Cluster <span class="p">|</span> No
      Prepared Statements <span class="p">|</span> No
 Prepared statement count <span class="p">|</span> <span class="m">0</span>
</pre></div>
</div>
<p>This section shows some specific technologies used on this server. Some of them
are detected from the schema dump performed for the previous sections; others
can be detected by looking at SHOW GLOBAL STATUS.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># InnoDB #####################################################</span>
                  Version <span class="p">|</span> <span class="m">1</span>.1.8
         Buffer Pool Size <span class="p">|</span> <span class="m">16</span>.0M
         Buffer Pool Fill <span class="p">|</span> <span class="m">100</span>%
        Buffer Pool Dirty <span class="p">|</span> <span class="m">0</span>%
           File Per Table <span class="p">|</span> OFF
                Page Size <span class="p">|</span> 16k
            Log File Size <span class="p">|</span> <span class="m">2</span> * <span class="m">5</span>.0M <span class="o">=</span> <span class="m">10</span>.0M
          Log Buffer Size <span class="p">|</span> 8M
             Flush Method <span class="p">|</span>
      Flush Log At Commit <span class="p">|</span> <span class="m">1</span>
               XA Support <span class="p">|</span> ON
                Checksums <span class="p">|</span> ON
              Doublewrite <span class="p">|</span> ON
          R/W I/O Threads <span class="p">|</span> <span class="m">4</span> <span class="m">4</span>
             I/O Capacity <span class="p">|</span> <span class="m">200</span>
       Thread Concurrency <span class="p">|</span> <span class="m">0</span>
      Concurrency Tickets <span class="p">|</span> <span class="m">500</span>
       Commit Concurrency <span class="p">|</span> <span class="m">0</span>
      Txn Isolation Level <span class="p">|</span> REPEATABLE-READ
        Adaptive Flushing <span class="p">|</span> ON
      Adaptive Checkpoint <span class="p">|</span>
           Checkpoint Age <span class="p">|</span> <span class="m">0</span>
             InnoDB Queue <span class="p">|</span> <span class="m">0</span> queries inside InnoDB, <span class="m">0</span> queries <span class="k">in</span> queue
       Oldest Transaction <span class="p">|</span> <span class="m">0</span> Seconds
         History List Len <span class="p">|</span> <span class="m">209</span>
               Read Views <span class="p">|</span> <span class="m">1</span>
         Undo Log Entries <span class="p">|</span> <span class="m">1</span> transactions, <span class="m">1</span> total undo, <span class="m">1</span> max undo
        Pending I/O Reads <span class="p">|</span> <span class="m">0</span> buf pool reads, <span class="m">0</span> normal AIO,
                            <span class="m">0</span> ibuf AIO, <span class="m">0</span> preads
       Pending I/O Writes <span class="p">|</span> <span class="m">0</span> buf pool <span class="o">(</span><span class="m">0</span> LRU, <span class="m">0</span> flush list, <span class="m">0</span> page<span class="o">)</span><span class="p">;</span>
                            <span class="m">0</span> AIO, <span class="m">0</span> sync, <span class="m">0</span> log IO <span class="o">(</span><span class="m">0</span> log, <span class="m">0</span> chkp<span class="o">)</span><span class="p">;</span>
                            <span class="m">0</span> pwrites
      Pending I/O Flushes <span class="p">|</span> <span class="m">0</span> buf pool, <span class="m">0</span> log
       Transaction States <span class="p">|</span> 1xnot started
</pre></div>
</div>
<p>This section shows important configuration variables for the InnoDB storage
engine. The buffer pool fill percent and dirty percent are fuzzy-rounded. The
last few lines are derived from the output of SHOW INNODB STATUS. It is likely
that this output will change in the future to become more useful.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># MyISAM #####################################################</span>
                Key Cache <span class="p">|</span> <span class="m">16</span>.0M
                 Pct Used <span class="p">|</span> <span class="m">10</span>%
                Unflushed <span class="p">|</span> <span class="m">0</span>%
</pre></div>
</div>
<p>This section shows the size of the MyISAM key cache, followed by the percentage
of the cache in use and percentage unflushed (fuzzy-rounded).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Aria #######################################################</span>
        Page Cache Buffer <span class="p">|</span> <span class="m">16</span>.0M
                 Pct Used <span class="p">|</span> <span class="m">10</span>%
                Unflushed <span class="p">|</span> <span class="m">0</span>%
</pre></div>
</div>
<p>This section shows the size of the Aria page cache, followed by the percentage
of the cache in use and percentage unflushed (fuzzy-rounded).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Security ###################################################</span>
                    Users <span class="p">|</span> <span class="m">2</span> users, <span class="m">0</span> anon, <span class="m">0</span> w/o pw, <span class="m">0</span> old pw
            Old Passwords <span class="p">|</span> OFF
</pre></div>
</div>
<p>This section is generated from queries to tables in the mysql system database.
It shows how many users exist, and various potential security risks such as
old-style passwords and users without passwords.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Binary Logging #############################################</span>
                  Binlogs <span class="p">|</span> <span class="m">1</span>
               Zero-Sized <span class="p">|</span> <span class="m">0</span>
               Total Size <span class="p">|</span> <span class="m">21</span>.8M
            binlog_format <span class="p">|</span> STATEMENT
         expire_logs_days <span class="p">|</span> <span class="m">0</span>
              sync_binlog <span class="p">|</span> <span class="m">0</span>
                server_id <span class="p">|</span> <span class="m">12345</span>
             binlog_do_db <span class="p">|</span>
         binlog_ignore_db <span class="p">|</span>
</pre></div>
</div>
<p>This section shows configuration and status of the binary logs. If there are
zero-sized binary logs, then it is possible that the binlog index is out of sync
with the binary logs that actually exist on disk.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Noteworthy Variables #######################################</span>
     Auto-Inc Incr/Offset <span class="p">|</span> <span class="m">1</span>/1
   default_storage_engine <span class="p">|</span> InnoDB
               flush_time <span class="p">|</span> <span class="m">0</span>
             init_connect <span class="p">|</span>
                init_file <span class="p">|</span>
                 sql_mode <span class="p">|</span>
         join_buffer_size <span class="p">|</span> 128k
         sort_buffer_size <span class="p">|</span> 2M
         read_buffer_size <span class="p">|</span> 128k
     read_rnd_buffer_size <span class="p">|</span> 256k
       bulk_insert_buffer <span class="p">|</span> <span class="m">0</span>.00
      max_heap_table_size <span class="p">|</span> 16M
           tmp_table_size <span class="p">|</span> 16M
       max_allowed_packet <span class="p">|</span> 1M
             thread_stack <span class="p">|</span> 192k
                      log <span class="p">|</span> OFF
                log_error <span class="p">|</span> /tmp/12345/data/mysqld.log
             log_warnings <span class="p">|</span> <span class="m">1</span>
         log_slow_queries <span class="p">|</span> ON
log_queries_not_using_indexes <span class="p">|</span> OFF
        log_slave_updates <span class="p">|</span> ON
</pre></div>
</div>
<p>This section shows several noteworthy server configuration variables that might
be important to know about when working with this server.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configuration File #########################################</span>
              Config File <span class="p">|</span> /tmp/12345/my.sandbox.cnf
<span class="o">[</span>client<span class="o">]</span>
<span class="nv">user</span>                                <span class="o">=</span> msandbox
<span class="nv">password</span>                            <span class="o">=</span> msandbox
<span class="nv">port</span>                                <span class="o">=</span> <span class="m">12345</span>
<span class="nv">socket</span>                              <span class="o">=</span> /tmp/12345/mysql_sandbox12345.sock
<span class="o">[</span>mysqld<span class="o">]</span>
<span class="nv">port</span>                                <span class="o">=</span> <span class="m">12345</span>
<span class="nv">socket</span>                              <span class="o">=</span> /tmp/12345/mysql_sandbox12345.sock
pid-file                            <span class="o">=</span> /tmp/12345/data/mysql_sandbox12345.pid
<span class="nv">basedir</span>                             <span class="o">=</span> /home/baron/5.5.20
<span class="nv">datadir</span>                             <span class="o">=</span> /tmp/12345/data
<span class="nv">key_buffer_size</span>                     <span class="o">=</span> 16M
<span class="nv">innodb_buffer_pool_size</span>             <span class="o">=</span> 16M
<span class="nv">innodb_data_home_dir</span>                <span class="o">=</span> /tmp/12345/data
<span class="nv">innodb_log_group_home_dir</span>           <span class="o">=</span> /tmp/12345/data
<span class="nv">innodb_data_file_path</span>               <span class="o">=</span> ibdata1:10M:autoextend
<span class="nv">innodb_log_file_size</span>                <span class="o">=</span> 5M
log-bin                             <span class="o">=</span> mariadb-bin
<span class="nv">relay_log</span>                           <span class="o">=</span> mariadb-relay-bin
log_slave_updates
server-id                           <span class="o">=</span> <span class="m">12345</span>
report-host                         <span class="o">=</span> <span class="m">127</span>.0.0.1
report-port                         <span class="o">=</span> <span class="m">12345</span>
log-error                           <span class="o">=</span> mysqld.log
<span class="nv">innodb_lock_wait_timeout</span>            <span class="o">=</span> <span class="m">3</span>
<span class="c1"># The End ####################################################</span>
</pre></div>
</div>
<p>This section shows a pretty-printed version of the my.cnf file, with comments
removed and with whitespace added to align things for easy reading. The tool
tries to detect the my.cnf file by looking at the output of ps, and if it does
not find the location of the file there, it tries common locations until it
finds a file. Note that this file might not actually correspond with the server
from which the report was generated. This can happen when the tool isn’t run on
the same server it’s reporting on, or when detecting the location of the
configuration file fails.</p>
</section>
<section id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>All options after – are passed to <code class="docutils literal notranslate"><span class="pre">mariadb</span></code>.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-all-databases">
<span class="sig-name descname"><span class="pre">--all-databases</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-all-databases" title="Permalink to this definition">¶</a></dt>
<dd><p>mariadb-dump and summarize all databases.  See <a class="reference internal" href="#cmdoption-mariadb-database-summary-databases"><code class="xref std std-option docutils literal notranslate"><span class="pre">--databases</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-ask-pass">
<span class="sig-name descname"><span class="pre">--ask-pass</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-ask-pass" title="Permalink to this definition">¶</a></dt>
<dd><p>Prompt for a password when connecting to MariaDB.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-config">
<span class="sig-name descname"><span class="pre">--config</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-config" title="Permalink to this definition">¶</a></dt>
<dd><p>type: string</p>
<p>Read this comma-separated list of config files.  If specified, this must be the
first option on the command line.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-databases">
<span class="sig-name descname"><span class="pre">--databases</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-databases" title="Permalink to this definition">¶</a></dt>
<dd><p>type: string</p>
<p>mariadb-dump and summarize this comma-separated list of databases.  Specify
<a class="reference internal" href="#cmdoption-mariadb-database-summary-all-databases"><code class="xref std std-option docutils literal notranslate"><span class="pre">--all-databases</span></code></a> instead if you want to dump and summary all databases.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-defaults-file">
<span class="sig-name descname"><span class="pre">--defaults-file</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-defaults-file" title="Permalink to this definition">¶</a></dt>
<dd><p>short form: -F; type: string</p>
<p>Only read mariadb options from the given file.  You must give an absolute
pathname.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-help">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print help and exit.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-host">
<span class="sig-name descname"><span class="pre">--host</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-host" title="Permalink to this definition">¶</a></dt>
<dd><p>short form: -h; type: string</p>
<p>Host to connect to.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-list-encrypted-tables">
<span class="sig-name descname"><span class="pre">--list-encrypted-tables</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-list-encrypted-tables" title="Permalink to this definition">¶</a></dt>
<dd><p>default: false</p>
<p>Include a list of the encrypted tables in all databases. This can cause slowdowns since
querying Information Schema tables can be slow.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-password">
<span class="sig-name descname"><span class="pre">--password</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-password" title="Permalink to this definition">¶</a></dt>
<dd><p>short form: -p; type: string</p>
<p>Password to use when connecting.
If password contains commas they must be escaped with a backslash: “exam,ple”</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-port">
<span class="sig-name descname"><span class="pre">--port</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-port" title="Permalink to this definition">¶</a></dt>
<dd><p>short form: -P; type: int</p>
<p>Port number to use for connection.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-read-samples">
<span class="sig-name descname"><span class="pre">--read-samples</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-read-samples" title="Permalink to this definition">¶</a></dt>
<dd><p>type: string</p>
<p>Create a report from the files found in this directory.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-save-samples">
<span class="sig-name descname"><span class="pre">--save-samples</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-save-samples" title="Permalink to this definition">¶</a></dt>
<dd><p>type: string</p>
<p>Save the data files used to generate the summary in this directory.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-sleep">
<span class="sig-name descname"><span class="pre">--sleep</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>type: int; default: 10</p>
<p>Seconds to sleep when gathering status counters.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-socket">
<span class="sig-name descname"><span class="pre">--socket</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-socket" title="Permalink to this definition">¶</a></dt>
<dd><p>short form: -S; type: string</p>
<p>Socket file to use for connection.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-user">
<span class="sig-name descname"><span class="pre">--user</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-user" title="Permalink to this definition">¶</a></dt>
<dd><p>short form: -u; type: string</p>
<p>User for login if not current user.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-mariadb-database-summary-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-mariadb-database-summary-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print tool’s version and exit.</p>
</dd></dl>

</section>
<section id="environment">
<h2>ENVIRONMENT<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h2>
<p>This tool does not use any environment variables.</p>
</section>
<section id="system-requirements">
<h2>SYSTEM REQUIREMENTS<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<p>This tool requires Bash v3 or newer, Perl 5.8 or newer, and binutils.
These are generally already provided by most distributions.
On BSD systems, it may require a mounted procfs.</p>
</section>
<section id="authors">
<h2>AUTHORS<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<p>Baron Schwartz, Brian Fraser, and Daniel Nichter</p>
</section>
<section id="about-this-mariadb-tool">
<h2>ABOUT THIS MARIADB TOOL<a class="headerlink" href="#about-this-mariadb-tool" title="Permalink to this headline">¶</a></h2>
<p>This tool is part of MariaDB client tools. This MariaDB Tool was forked from
Percona Toolkit’s pt-mysql-summary in August, 2019. Percona Toolkit was forked
from two projects in June, 2011: Maatkit and Aspersa.  Those projects were
created by Baron Schwartz and primarily developed by him and Daniel Nichter.</p>
</section>
<section id="copyright-license-and-warranty">
<h2>COPYRIGHT, LICENSE, AND WARRANTY<a class="headerlink" href="#copyright-license-and-warranty" title="Permalink to this headline">¶</a></h2>
<p>This program is copyright 2019 MariaDB Corporation and/or its affiliates,
2011-2018 Percona LLC and/or its affiliates, 2010-2011 Baron Schwartz.</p>
<p>THIS PROGRAM IS PROVIDED “AS IS” AND WITHOUT ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.</p>
<p>This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation, version 2; OR the Perl Artistic License.  On UNIX and similar
systems, you can issue `man perlgpl’ or `man perlartistic’ to read these
licenses.</p>
<p>You should have received a copy of the GNU General Public License along with
this program; if not, write to the Free Software Foundation, Inc., 59 Temple
Place, Suite 330, Boston, MA  02111-1307  USA.</p>
</section>
<section id="version">
<h2>VERSION<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">mariadb-database-summary</strong> 6.0.0a</p>
</section>
</section>


          </div>
        </div>
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="mariadb-index-checker.html" title="mariadb-index-checker"
             >next</a></li>
        <li class="right" >
          <a href="mariadb-backup-manager.html" title="mariadb-backup-manager"
             >previous</a></li>
        <li><a href="index.html">MariaDB Tools</a></li> 
      </ul>
    </div>
      </div>
      <div class="sphinxsidebar  col-md-3 col-md-pull-9">
        <div class="sphinxsidebarwrapper">
  
          {@ product_logo @}          

          {@ product_pdf_download @}
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><strong class="program">mariadb-database-summary</strong></a><ul>
<li><a class="reference internal" href="#name">NAME</a></li>
<li><a class="reference internal" href="#synopsis">SYNOPSIS</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#risks">RISKS</a></li>
<li><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li><a class="reference internal" href="#output">OUTPUT</a></li>
<li><a class="reference internal" href="#options">OPTIONS</a></li>
<li><a class="reference internal" href="#environment">ENVIRONMENT</a></li>
<li><a class="reference internal" href="#system-requirements">SYSTEM REQUIREMENTS</a></li>
<li><a class="reference internal" href="#authors">AUTHORS</a></li>
<li><a class="reference internal" href="#about-this-mariadb-tool">ABOUT THIS MARIADB TOOL</a></li>
<li><a class="reference internal" href="#copyright-license-and-warranty">COPYRIGHT, LICENSE, AND WARRANTY</a></li>
<li><a class="reference internal" href="#version">VERSION</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mariadb-backup-manager.html"
                        title="previous chapter"><strong class="program">mariadb-backup-manager</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mariadb-index-checker.html"
                        title="next chapter"><strong class="program">mariadb-index-checker</strong></a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">jQuery(document).ready(function(){ jQuery('#searchbox').show(0); });</script>
          {@ product_series @}
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <!-- div class="footer">
        &copy; Copyright 2020, MariaDB Corporation and/or its affiliates.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.2.0.
    </div -->
  </div>
  </body>


